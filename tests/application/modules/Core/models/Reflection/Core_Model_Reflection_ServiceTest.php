<?php

/**
 * Test class for Core_Model_Reflection_Service.
 * Generated by PHPUnit on 2011-09-19 at 01:14:28.
 */
class Core_Model_Reflection_ServiceTest extends PHPUnit_Framework_TestCase {

    /**
     * @var Core_Model_Reflection_Service
     */
    protected $object;

    /**
     * Sets up the fixture, for example, opens a network connection.
     * This method is called before a test is executed.
     */
    protected function setUp() {
        $this->object = new Core_Model_Reflection_Service;
    }

    /**
     * Tears down the fixture, for example, closes a network connection.
     * This method is called after a test is executed.
     */
    protected function tearDown() {
        
    }

    /**
     * @todo Implement testGetModules().
     */
    public function testGetModules() {
       $results = $this->object->getModules();
       $this->assertArrayHasKey('Core', $results);
    }

    public function testGetValidModulePath() {
       $result = $this->object->getModulePath('Test');
 
      // $this->assertString
       $this->assertTrue(strpos($result,'application') !== false);
    }
    
    public function testGetInvalidModulePath() {
       $this->setExpectedException('Exception');
       $this->object->getModulePath('DoesNotExists');
    }
    
    public function testGetPluginTypesByModule() {
         $results = $this->object->getPluginTypesByModule('Test');
         $this->assertEquals(2,count($results));

    }

    /**
     * @todo Implement testGetControllersByModule().
     */
    public function testGetControllersByModule() {
        // Remove the following lines when you implement this test.
        $this->markTestIncomplete(
                'This test has not been implemented yet.'
        );
    }

    /**
     * @todo Implement testGetPluginTypes().
     */
    public function testGetPluginTypes() {
        // Remove the following lines when you implement this test.
        $this->markTestIncomplete(
                'This test has not been implemented yet.'
        );
    }
    
    public function testGetPluginConfigsByModuleType() {
        $results = $this->object->getPluginConfigsByModuleType('Test','Type1');
        foreach($results as $key => $value){
            $this->assertInstanceOf('Zend_Config_Ini', $value);
        }
        //die(debugArray($results));
         $this->assertEquals(2,count($results));
    }

    /**
     * @todo Implement testGetActionsByModuleController().
     */
    public function testGetActionsByModuleController() {
        // Remove the following lines when you implement this test.
        $this->markTestIncomplete(
                'This test has not been implemented yet.'
        );
    }

    public function testGetThemes() {
        $array = $this->object->getThemes();


        $this->assertTrue(is_array($array));
        $this->assertTrue(in_array('default', $array));
    }
    public function testGetLayouts() {
        $array = $this->object->getLayouts('default');

        $this->assertTrue(is_array($array));
        $this->assertTrue(in_array('header', $array));
        $this->assertTrue(in_array('footer', $array));
        $this->assertTrue(in_array('email', $array));
    }

    /**
     * @todo Implement testGetTemplateInstaller().
     */
    public function testGetTemplateInstaller() {
        // Remove the following lines when you implement this test.
        $this->markTestIncomplete(
                'This test has not been implemented yet.'
        );
    }

}